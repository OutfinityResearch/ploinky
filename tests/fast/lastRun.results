
===== PREPARE STAGE =====
[PASS] Temporary workspace directory exists
[PASS] Repository directory created
[PASS] Agent manifest present
[PASS] Agent entry registered
[PASS] Repository enabled flag recorded
[PASS] Isolated agent workspace created

===== START STAGE =====
[PASS] Service container is running
[PASS] Router port 24840 listening
[PASS] Agent host port 7001 listening
[PASS] Router status endpoint responds
[PASS] Agent health endpoint reports ok
[PASS] Container exposes AGENT_NAME
[PASS] Container exposes FAST_TEST_MARKER
[PASS] Agent log file created
[PASS] Persisted data file created

===== Demo agent dependency tests =====
[PASS] Simulator container is running
[PASS] Moderator container is running
[PASS] Moderator server responds to GET
[PASS] Verify repo 'webmeet' is cloned
[PASS] Verify repo 'vibe1' is cloned

===== MCP tests =====
[PASS] Status check: client status simulator
[PASS] Tool check: client list tools
[PASS] Tool run check: client tool run_simulation -iterations 10

===== RoutingServer aggregation test =====
[PASS] Aggregation check: router server mcp aggregation

===== STOP STAGE =====
[PASS] Container exists after stop
[PASS] Container is no longer running
[PASS] Router port 24840 closed
[PASS] Agent port 7001 closed
[PASS] Manual persistence marker retained
[PASS] Agent data file retained

===== START AGAIN STAGE =====
[PASS] Service container is running
[PASS] Router port 24840 listening
[PASS] Agent host port 7001 listening
[PASS] Router status endpoint responds
[PASS] Agent health endpoint reports ok
[PASS] Container exposes AGENT_NAME
[PASS] Container exposes FAST_TEST_MARKER
[PASS] Agent log file created
[PASS] Persisted data file created

===== Demo agent dependency tests =====
[PASS] Simulator container is running
[PASS] Moderator container is running
[PASS] Moderator server responds to GET
[PASS] Verify repo 'webmeet' is cloned
[PASS] Verify repo 'vibe1' is cloned

===== MCP tests =====
[PASS] Status check: client status simulator
[PASS] Tool check: client list tools
[PASS] Tool run check: client tool run_simulation -iterations 10

===== RoutingServer aggregation test =====
[PASS] Aggregation check: router server mcp aggregation
[PASS] Persistence marker survived restart
[PASS] Agent data file still present after restart
[PASS] Agent data file retains initialization signature
[PASS] Dynamic APP_NAME update without restart
[PASS] Dynamic WEBTTY_SHELL update without restart

===== RESTART STAGE =====
[PASS] Service container is running
[PASS] Router port 24840 listening
[PASS] Agent host port 7001 listening
[PASS] Router status endpoint responds
[PASS] Agent health endpoint reports ok
[PASS] Container exposes AGENT_NAME
[PASS] Container exposes FAST_TEST_MARKER
[PASS] Agent log file created
[PASS] Persisted data file created
[PASS] Container PID changed after restart
[PASS] Persistence marker retained after restart

===== DESTROY STAGE =====
[PASS] Service container removed
[PASS] Temporary workspace directory deleted
[PASS] Agent log removed with workspace
[PASS] Persistence marker removed with workspace

===== TEST SUMMARY =====
[PASS] All tests passed!
