#!/bin/bash

# Get the directory where the script is located
SCRIPT_DIR=$(dirname "$(readlink -f "$0")")
export PLOINKY_ROOT=$(realpath "$SCRIPT_DIR/..")

# Route light mode explicitly to the dedicated launcher
if [[ "$1" == "-l" || "$1" == "-light" || "$1" == "--light" || "$1" == "light" ]]; then
    shift
    exec "$SCRIPT_DIR/ploinky-light" "$@"
fi

# Construct the path to the Node.js script
NODE_SCRIPT="$SCRIPT_DIR/../cli/index.js"

# Execute the Node.js script with all passed arguments
node "$NODE_SCRIPT" "$@"
